#:import AsyncImage kivy.uix.image.AsyncImage
#:import hex kivy.utils.get_color_from_hex


########################### GENERIC ###########################

<FONDO@FloatLayout>:
    canvas.before:
        Color:
            rgba: 0.176, 0.243, 0.314, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

<Space@Label>:

<LabelGeneric@Label>:
    color: hex('#6C6C6C')

<CampoGenerico@TextInput>:
    padding: '16dp', '16dp'
    halign: 'justify'
    multiline: False
    write_tab: False

<CampoGenerico2@TextInput>:
    padding: '10dp', '10dp'
    halign: 'justify'
    multiline: False
    write_tab: False

<CampoGenericoMediumR@TextInput>:
    padding: '10dp', '10dp'
    halign: 'justify'
    multiline: False
    write_tab: False
    background_color: hex('#f6dfc4')

<CampoGenericoMedium@TextInput>:
    padding: '10dp', '10dp'
    halign: 'justify'
    multiline: False
    write_tab: False

<SegInput@TextInput>:
    background_normal:'data/images/src/textinput.png'
    background_active:'data/images/src/textinput_active.png'
    background_disabled_normal:'data/images/src/textinput_disabled.png'
    background_disabled_active:'data/images/src/textinput_disabled.png'
    font_name: 'Lato-Regular.ttf'
    font_size: '18sp'
    cursor_color: 0.498, 0.549, 0.552,1.0
    foreground_color: 0.204, 0.286, 0.369, 1.0
    selection_color: 0.925, 0.941, 0.937, 0.5
    padding: '16dp', '16dp'
    halign:'justify'
    border: 10,10,10,10

<LoginInput@SegInput>:
    multiline: False
    allow_copy: False
    write_tab: False
    background_disabled_normal:'data/images/src/logininput_disabled.png'
    background_disabled_active:'data/images/src/logininput_disabled.png'

<Toast@AnchorLayout>:
    size_hint:None,None
    y:'-50dp'
    size: '300dp','48dp'
    anchor_x:'right'
    canvas:
        Color:
            rgba: 0.910, 0.298, 0.239, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10,10,10,10
    Label:
        id:label
        font_size: '16sp'
        font_name: 'Lato-Bold.ttf'
    AnchorLayout:
        size_hint:None, None
        size:'48dp','48dp'
        anchor_x:'center'
        SegButton:
            size_hint:None, None
            size:'24dp', '24dp'
            border:0,0,0,0
            background_normal:'data/images/src/close.png'
            background_down:'data/images/src/close_down.png'
            on_release:root.exit(None)

<CusInputFeatures@TextInput>:
    background_normal:'data/images/src/textinput.png'
    background_active:'data/images/src/textinput_active.png'
    background_disabled_normal:'data/images/src/textinput_disabled.png'
    background_disabled_active:'data/images/src/textinput_disabled.png'
    font_name: 'Lato-Regular.ttf'
    font_size: '16sp'
    cursor_color: 0.498, 0.549, 0.552,1.0
    foreground_color: 0.204, 0.286, 0.369, 1.0
    selection_color: 0.925, 0.941, 0.937, 0.5
    padding: '16dp', '16dp'
    halign:'justify'
    border: 10,10,10,10

<CusInput@CusInputFeatures>:
    multiline: False
    allow_copy: False
    background_disabled_normal:'data/images/src/logininput_disabled.png'
    background_disabled_active:'data/images/src/logininput_disabled.png'

<Menu@BoxLayout>:
    size_hint_y:None
    height:'50dp'
    orientation: 'horizontal'

    Button:
        text: 'Generar Etiquetas'
        size_hint_x: .20
        on_release: app.goto_Etiquetas()

    Button:
        text: 'Usuarios'
        size_hint_x: .20
        on_release: app.goto_Usuarios()

    Button:
        text: 'Estafeta Cuentas'
        size_hint_x: .20
        on_release: app.goto_EstafetaAmbientes()

########################### LOGIN ###########################

<LoginScreen>:
    FONDO:
        AsyncImage:
            id:logo
            center_x:root.center_x
            top:grid.top + self.height + dp(10)
            size_hint:None, None
            size:'200dp','200dp'
            # size:'200dp','200dp'
            source:'data/icon/idealogo.png'
            # source:'data/icon/segreto_icon.png'
        LoginGrid:
            id: grid
            center: root.center
            padding: '24dp'
            size_hint: None, None
            size: min(root.width - dp(32),dp(360)), '240dp'
            on_login:root.try_login()
        AsyncImage:
            id:loader
            center_x:root.center_x
            top:grid.y + dp(-50)
            size_hint:None, None
            size:'100dp','100dp'
            source:'data/images/ripple.gif'
            anim_delay:0.05
        Toast:
            id:toast
            width: min(root.width - dp(32), dp(300))
            x:root.center_x - self.width // 2

<LoginGrid@BoxLayout>:
    orientation:'vertical'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10,10,10,10
    LoginInput:
        id: inp_username
        size_hint_y:None
        height: self.minimum_height
        write_tab: False
        hint_text: 'Cuenta'
        focus: True
        on_text:root.on_username(self.text)
    Space:
    LoginInput:
        id:inp_password
        password: True
        size_hint_y:None
        height: self.minimum_height
        hint_text: 'Contrase√±a'
        on_text:root.on_password(self.text)
    Space:
    SegButton:
        id:but_login
        size_hint_y:None
        height:'48dp'
        text: 'Login'
        background_normal:'data/images/src/but_turq.png'
        background_down:'data/images/src/but_turq_down.png'
        on_release:root.dispatch('on_login')


########################### CREATE LABEL ###########################

<CreateLabelScreen>:
    FONDO:
        BoxLayout:
            orientation:'vertical'

            # MENU
            Menu:

            # SEARCH
            BoxLayout:
                size_hint_y: None
                height: '50dp'
                orientation: 'horizontal'

                CampoGenerico:
                    hint_text: 'Numero Factura'
                    size_hint_x: .4
                    id: txt_factura_numero
                    input_type: 'number'
                    input_filter: 'int'

                CampoGenerico:
                    hint_text: 'Tipo'
                    size_hint_x: .2
                    id: txt_factura_tipo

                Button:
                    text: 'Buscar Informacion'
                    size_hint_x: .4
                    on_release: root.buscar_Factura()

            # LIST
            CreateLabelContainer:
                id: label_container
        Toast:
            id:toast
            # width: min(root.width - dp(32), dp(300))
            width: 700
            x:root.center_x - self.width // 2

        AsyncImage:
            id:loader
            center_x:root.center_x
            # top:grid.y + dp(-50)
            top: 500
            size_hint:None, None
            size:'100dp','100dp'
            source:'data/images/ripple.gif'
            anim_delay:0.05

<CreateLabelContainer@ScrollView>:
    StackLayout:
        id: container
        size_hint_y: None
        height: self.minimum_height
        size_hint_x: 1
        orientation: 'lr-tb'
        padding:'10dp', '10dp','10dp','10dp'
        spacing:'15dp'
        ServicioWidget:
            id: servicio_widget
        PaqueteWidget:
            id: paquete_widget
        OrigenWidget:
            id: origen_widget
        DestinoWidget:
            id: destino_widget
        EstafetaAmbienteWidget:
            id: estafeta_ambiente_widget
        ControlWidget:

<ServicioWidget@StackLayout>:
    orientation: 'lr-tb'
    padding: '10dp'
    size_hint_y:None
    height: '470dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'vertical'
        spacing: '2dp'
        Label:
            size_hint_y: None
            height: '40dp'
            text: 'INFORMACION DEL SERVICIO'
            color: hex('#000000')
            font_size: '16sp'

        GridLayout:
            cols: 2
            padding:'16dp', '10dp','16dp','10dp'
            spacing: 40, 16

            # Fila 1
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Tipo Servicio:'
                    size_hint_x: .20
                CampoGenericoMediumR:
                    id: txt_servicetypeid
                    size_hint_x: .60
                    text: "70"
                Button:
                    size_hint:None, None
                    size:'40dp', '40dp'
                    border:10,10,10,10
                    background_normal:'data/images/src/but_new.png'
                    background_down:'data/images/src/but_new_down.png'
                    on_release: root.open_TipoServicioPopup()

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Cantidad Guias:'
                    size_hint_x: .20
                CampoGenericoMediumR:
                    id: txt_number_labels
                    size_hint_x: .80
                    input_type: 'number'
                    input_filter: 'int'
                    text: "1"

            # Fila 2
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Entregar en Estafeta:'
                    size_hint_x: .20
                CheckBox:
                    id: chk_deliverytoestafetaoffice
                    size_hint_x: .60
                    active: False

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Oficina Numero:'
                    size_hint_x: .25
                CampoGenericoMediumR:
                    id: txt_office_num
                    size_hint_x: .75
                    text: "130"

            # Fila 3
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Contenido:'
                    size_hint_x: .20
                CampoGenericoMediumR:
                    id: txt_content
                    size_hint_x: .60
                    text: "JOYAS"
                Button:
                    size_hint:None, None
                    size:'40dp', '40dp'
                    border:10,10,10,10
                    background_normal:'data/images/src/but_new.png'
                    background_down:'data/images/src/but_new_down.png'
                    on_release: root.open_TipoContenidoPopup()

            StackLayout:
                size_hint_y: None
                height: '40dp'
                CampoGenericoMedium:
                    id: txt_contentdescription
                    hint_text: 'Descripcion del contenido'
                    size_hint_x: 1
                    text: "ORO"

            # Fila 4
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Informacion adicional:'
                    size_hint_x: .25
                CampoGenericoMedium:
                    id: txt_aditionalinfo
                    size_hint_x: .65
                    text: "OPERACION"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Centro de Costo:'
                    size_hint_x: .20
                CampoGenericoMediumR:
                    id: txt_costcenter
                    hint_text: 'Centro de Costos'
                    size_hint_x: .80
                    text: "12345"

            # File 5
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Retornar Documento:'
                    size_hint_x: .20
                CheckBox:
                    id: chk_returndocument
                    size_hint_x: .70
                    active: False

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Tipo Documento Retorno:'
                    size_hint_x: .25
                CampoGenericoMedium:
                    id: txt_servicetypeiddocret
                    size_hint_x: .75
                    text: ""

            # File 6
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Pais Destino:'
                    size_hint_x: .20
                CampoGenericoMedium:
                    id: txt_destino_countryid
                    size_hint_x: .70
                    text: "MX"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Referencia:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_reference
                    text: "FRENTE AL SONBORNS"
                    size_hint_x: .82

            # File 7
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Valor declarado/Valor factura:'
                    size_hint_x: .30
                CampoGenericoMedium:
                    id: txt_kilos
                    input_type: 'number'
                    input_filter: 'float'
                    size_hint_x: .60

<TipoServicioPopup>:
    title: 'Tipos de Servicio'
    size_hint: (.5, .5)
    GridLayout:
        cols: 1
        ScrollView:
            id: tiposservicios_list
            size_hint_x: 1
            StackLayout:
                id: container
                size_hint_y: None
                height: self.minimum_height
                size_hint_x: 1
                orientation: 'lr-tb'
                spacing:'15dp'
                # CuentaWidget:

        AnchorLayout:
            padding: 30, 0, 30, 5
            size_hint_y: None
            height: '60dp'
            Button:
                size_hint_y: None
                height: '60dp'
                size_hint_x: 1
                text: 'Seleccionar'
                on_release: root.click_SelectButton()

<TipoServicioWidget@BoxLayout>:
    id: tiposervicio_widget
    padding: '10dp'
    size_hint_y: None
    height: '50dp'
    orientation: 'horizontal'
    canvas:
        Color:
            rgba: hex('#D5E1FF')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    CheckBox:
        id: chk_tipo
        size_hint_x: .1
        group: "tipo_servicio"
    Label:
        id: lbl_tipo
        size_hint_x: .9
        color: hex('#121313')

<ContenidoPopup>:
    title: 'Opciones de Contenido'
    size_hint: (.5, .5)
    GridLayout:
        cols: 1
        ScrollView:
            id: contenido_list
            size_hint_x: 1
            StackLayout:
                id: container
                size_hint_y: None
                height: self.minimum_height
                size_hint_x: 1
                orientation: 'lr-tb'
                spacing:'15dp'
                # CuentaWidget:

        AnchorLayout:
            padding: 30, 0, 30, 5
            size_hint_y: None
            height: '60dp'
            Button:
                size_hint_y: None
                height: '60dp'
                size_hint_x: 1
                text: 'Seleccionar'
                on_release: root.click_SelectButton()

<ContenidoWidget@BoxLayout>:
    id: contenido_widget
    padding: '10dp'
    size_hint_y: None
    height: '50dp'
    orientation: 'horizontal'
    canvas:
        Color:
            rgba: hex('#D5E1FF')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    CheckBox:
        id: chk_tipo
        size_hint_x: .1
        group: "opciones_contenido"
    Label:
        id: lbl_tipo
        size_hint_x: .9
        color: hex('#121313')

<PaqueteWidget@StackLayout>:
    orientation: 'lr-tb'
    padding: '10dp'
    size_hint_y: None
    height: '180dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'vertical'
        spacing: '2dp'
        Label:
            size_hint_y: None
            height: '40dp'
            text: 'INFORMACION DEL PAQUETE'
            color: hex('#000000')
            font_size: '16sp'

        GridLayout:
            cols: 2
            padding:'16dp', '10dp','16dp','10dp'
            spacing: 40, 16

            # Fila 1
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Peso:'
                    size_hint_x: .10
                CampoGenericoMediumR:
                    id: txt_peso
                    input_type: 'number'
                    input_filter: 'float'
                    size_hint_x: .45
                    text: "5.0"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Kilos disponibles:'
                    size_hint_x: .35
                CampoGenericoMedium:
                    id: txt_kilos
                    input_type: 'number'
                    input_filter: 'float'
                    size_hint_x: .45

            # Fila 2
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Tipo de Empaque:'
                    size_hint_x: .29
                CampoGenericoMediumR:
                    id: txt_parcelTypeId
                    input_type: 'number'
                    input_filter: 'int'
                    size_hint_x: .40
                    text: "1"
                Button:
                    size_hint:None, None
                    size:'40dp', '40dp'
                    border:10,10,10,10
                    background_normal:'data/images/src/but_new.png'
                    background_down:'data/images/src/but_new_down.png'
                    on_release: root.open_TipoPaquetePopup()

            StackLayout:
                size_hint_y: None
                height: '40dp'
                CampoGenericoMedium:
                    id: txt_largo
                    input_type: 'number'
                    input_filter: 'float'
                    hint_text: 'Largo'
                    size_hint_x: .33
                CampoGenericoMedium:
                    id: txt_alto
                    input_type: 'number'
                    input_filter: 'float'
                    hint_text: 'Alto'
                    size_hint_x: .33
                CampoGenericoMedium:
                    id: txt_ancho
                    input_type: 'number'
                    input_filter: 'float'
                    hint_text: 'Ancho'
                    size_hint_x: .33

<TipoPaquetePopup>:
    title: 'Tipos de paquetes'
    size_hint: (.5, .5)
    GridLayout:
        cols: 1
        ScrollView:
            id: tipospaquetes_list
            size_hint_x: 1
            StackLayout:
                id: container
                size_hint_y: None
                height: self.minimum_height
                size_hint_x: 1
                orientation: 'lr-tb'
                # padding:'10dp', '10dp','10dp','10dp'
                spacing:'15dp'
                # CuentaWidget:
                # CuentaWidget:
                # CuentaWidget:

        AnchorLayout:
            padding: 30, 0, 30, 5
            size_hint_y: None
            height: '60dp'
            Button:
                size_hint_y: None
                height: '60dp'
                size_hint_x: 1
                text: 'Seleccionar'
                on_release: root.click_SelectButton()

<TipoPaqueteWidget@BoxLayout>:
    id: tipospaquetes_widget
    padding: '10dp'
    size_hint_y: None
    height: '50dp'
    orientation: 'horizontal'
    canvas:
        Color:
            rgba: hex('#D5E1FF')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    CheckBox:
        id: chk_tipo
        size_hint_x: .1
        group: "tipo_paquete"
    Label:
        id: lbl_tipo
        size_hint_x: .9
        color: hex('#121313')

<OrigenWidget@StackLayout>:
    orientation: 'lr-tb'
    padding: '10dp'
    size_hint_y:None
    height: '400dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'vertical'
        spacing: '2dp'
        Label:
            size_hint_y: None
            height: '40dp'
            text: 'DIRECCION ORIGEN'
            color: hex('#000000')
            font_size: '16sp'

        GridLayout:
            cols: 2
            padding:'16dp', '10dp','16dp','10dp'
            spacing: 40, 16

            # Fila 1
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Direccion 1:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_address1
                    size_hint_x: .82
                    text: "CALLE 5"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Direccion 2:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_origen_address2
                    size_hint_x: .82
                    text: "29"

            # Fila 2
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Celular:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_origen_cellphone
                    size_hint_x: .82
                    text: "888888"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Ciudad:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_city
                    size_hint_x: .82
                    text: "TLALPAN"

            # Fila 3
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Contacto:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_contactname
                    size_hint_x: .82
                    text: "JANET OIDOR"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Empresa:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_corporatename
                    size_hint_x: .82
                    text: "ALTAS SA DE CV"

            # Fila 4
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Colonia:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_neighborhood
                    size_hint_x: .82
                    text: "CENTRO"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Telefono:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_origen_phonenumber
                    size_hint_x: .82
                    text: "9999999"

            # Fila 5
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Zip Codigo:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_zipcode
                    size_hint_x: .82
                    text: "02300"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Estado:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_origen_state
                    size_hint_x: .82
                    text: "DF"

<DestinoWidget@StackLayout>:
    orientation: 'lr-tb'
    padding: '10dp'
    size_hint_y:None
    height: '440dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'vertical'
        spacing: '2dp'
        Label:
            size_hint_y: None
            height: '40dp'
            text: 'DIRECCION DESTINO'
            color: hex('#000000')
            font_size: '16sp'

        GridLayout:
            cols: 2
            padding:'16dp', '10dp','16dp','10dp'
            spacing: 40, 16

            # Fila 1
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Direccion 1:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_address1
                    size_hint_x: .82
                    text: "MAIZALES"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Direccion 2:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_destino_address2
                    size_hint_x: .82
                    text: "35"

            # Fila 2
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Celular:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_destino_cellphone
                    size_hint_x: .82
                    text: "4444444"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Ciudad:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_city
                    size_hint_x: .82
                    text: "COYOACAN"

            # Fila 3
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Contacto:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_contactname
                    size_hint_x: .82
                    text: "JAVIER SANCHEZ"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Empresa:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_corporatename
                    size_hint_x: .82
                    text: "CHICOLOAPAN SA DE CV"

            # Fila 4
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Cliente:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_customernumber
                    size_hint_x: .82
                    text: "0000000"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Colonia:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_neighborhood
                    size_hint_x: .82
                    text: "CENTRO"

            # Fila 5
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Telefono:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_destino_phonenumber
                    size_hint_x: .82
                    text: "777777"

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Estado:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_state
                    size_hint_x: .82
                    text: "ESTADO  DE MEXICO"

            # Fila 6
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Zip Codigo:'
                    size_hint_x: .18
                CampoGenericoMediumR:
                    id: txt_destino_zipcode
                    size_hint_x: .82
                    text: "02130"

<EstafetaAmbienteWidget@StackLayout>:
    # id: credenciales_widget
    orientation: 'lr-tb'
    padding: '10dp'
    size_hint_y:None
    height: '360dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'vertical'
        spacing: '12dp'
        Label:
            size_hint_y: None
            height: '40dp'
            text: 'CREDENCIALES DE ESTAFETA'
            color: hex('#000000')
            font_size: '16sp'

        StackLayout:
            size_hint_y: None
            height: '40dp'
            LabelGeneric:
                text: 'Selecciona Cuenta:'
                size_hint_x: .16
            CampoGenericoMedium:
                id: txt_cuenta
                size_hint_x: .30

            Button:
                size_hint:None, None
                size:'40dp', '40dp'
                border:10,10,10,10
                background_normal:'data/images/src/but_new.png'
                background_down:'data/images/src/but_new_down.png'
                on_release: root.click_BotonEstafetaAmbientes()

        StackLayout:
            size_hint_y: None
            height: '40dp'
            LabelGeneric:
                text: 'URL Servicio:'
                size_hint_x: .16
            CampoGenericoMedium:
                id: txt_url
                size_hint_x: .84

        GridLayout:
            cols: 2
            padding:'16dp', '10dp','16dp','10dp'
            spacing: 40, 16

            # Fila 1
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Login:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_login
                    disabled: True
                    size_hint_x: .60


            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Suscribe ID:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_suscriber_id
                    disabled: True
                    size_hint_x: .60

            # Fila 2
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Password:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_password
                    disabled: True
                    size_hint_x: .60

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Quadrant:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_quadrant
                    disabled: True
                    size_hint_x: .60

            # Fila 3
            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'No. Cliente:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_customernumber
                    disabled: True
                    size_hint_x: .60

            StackLayout:
                size_hint_y: None
                height: '40dp'
                LabelGeneric:
                    text: 'Tipo Papel:'
                    size_hint_x: .18
                CampoGenericoMedium:
                    id: txt_tipo_papel
                    disabled: True
                    size_hint_x: .60

<ControlWidget@StackLayout>:
    id: user_widget
    orientation: 'lr-tb'
    padding: '30dp', '0dp', '30dp', '0dp'
    size_hint_y:None
    height: '50dp'

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'

        Button:
            size_hint_x: .3
            text: 'Crear Etiqueta'
            on_press: app.crear_Etiqueta()

########################### ETIQUETA VIEW ###########################

<LabelViewScreen>:
    FONDO:
        BoxLayout:
            orientation:'vertical'

            # MENU
            Menu:

            # CONTROLES
            BoxLayout:
                size_hint_y: None
                height: '50dp'
                orientation: 'horizontal'

                # Button:
                #     text: 'Descargar'
                #     size_hint_x: .4
                    # on_release: root.show_All_Users()

                Button:
                    text: 'Imprimir Etiqueta'
                    size_hint_x: .4
                    on_release: root.imprimir()

            # LIST
            LabelViewContainer:
                id: label_container
        Toast:
            id:toast
            # width: min(root.width - dp(32), dp(300))
            width: 700
            x:root.center_x - self.width // 2

        AsyncImage:
            id:loader
            center_x:root.center_x
            # top:grid.y + dp(-50)
            top: 500
            size_hint:None, None
            size:'100dp','100dp'
            source:'data/images/ripple.gif'
            anim_delay:0.05

<LabelViewContainer@ScrollView>:
    StackLayout:
        size_hint_y: None
        size_hint_x: 1
        height: self.minimum_height
        orientation: 'lr-tb'
        padding:'15dp', '15dp','15dp','15dp'
        spacing:'15dp'
        LabelViewWidget:
            id: labelview_widget

<LabelViewWidget@StackLayout>:
    orientation: 'lr-tb'
    padding: '16dp'
    size_hint_y:None
    # height: self.minimum_height
    height: '2000dp'
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10
    BoxLayout:
        orientation: 'vertical'
        spacing: '2dp'

        Image:
            id: img_etiqueta
            source: ''
            y: self.parent.y + self.parent.height - 250
            x: self.parent.x
            size: 250, 250
            allow_stretch: True

        TextInput:
            id: lbl_etiqueta_view
            multiline: True
            size_hint_x: 1

########################### ESTAFETA SCREEN ###########################

<EstafetaScreen>:
    FONDO:
        BoxLayout:
            orientation:'vertical'
            Menu:
            BoxLayout:
                size_hint_y: None
                height: '50dp'
                orientation: 'horizontal'

                Button:
                    size_hint:None, None
                    size:'48dp', '48dp'
                    border:10,10,10,10
                    background_normal:'data/images/src/but_new.png'
                    background_down:'data/images/src/but_new_down.png'
                    on_release: root.click_BotonNuevo()

                CampoGenerico:
                    id: txt_buscar
                    hint_text: 'Texto a buscar'
                    size_hint_x: .8

                Button:
                    text: 'Buscar'
                    size_hint_x: .2
                    on_release: root.click_BotonBuscar()

            # LIST
            UsuariosContainer:
                id: estafeta_container
        Toast:
            id:toast
            width: 700
            x:root.center_x - self.width // 2
        AsyncImage:
            id:loader
            center_x:root.center_x
            top: 500
            size_hint:None, None
            size:'100dp','100dp'
            source:'data/images/ripple.gif'
            anim_delay:0.05

<EstafetaContainer@ScrollView>:
    StackLayout:
        id: container
        size_hint_y: None
        size_hint_x: 1
        height: self.minimum_height
        orientation: 'lr-tb'
        padding:'15dp', '15dp','15dp','15dp'
        spacing:'15dp'
        # UsuarioWidget:

<EstafetaItem@StackLayout>:
    id: user_widget
    orientation: 'lr-tb'
    padding: '16dp'
    size_hint_y:None
    height: self.minimum_height
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: '36dp'
        Label:
            id: lbl_clave
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .3
            font_size: '25sp'
            font_name: 'Lato-Heavy.ttf'

        Label:
            id: lbl_login
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .4
            font_size: '18sp'
            font_name: 'Lato-Heavy.ttf'

        Label:
            id: lbl_date
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .2
            font_size: '15sp'
            font_name: 'Lato-Semibold.ttf'

        BoxLayout:
            orientation:'horizontal'
            spacing:'16dp'
            size_hint_x: .1
            Space:
            SegButton:
                size_hint:None, None
                size:'36dp', '36dp'
                border:8,8,8,8
                background_normal:'data/images/src/but_edit.png'
                background_down:'data/images/src/but_edit_down.png'
                on_release : root.click_BotonEditar()

<EstafetaAddPopup>:
    title: 'Nuevo Ambiente de Estafeta'
    size_hint: (.5, .9)
    GridLayout:
        cols: 1
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Clave"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_clave
                focus: True
                size_hint_x: .8

        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "URL"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_url
                focus: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Login'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_login
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Password'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_password
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Quadrant'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_quadrant
                input_type: 'number'
                input_filter: 'float'
                size_hint_x: .8
                text: "1"

        BoxLayout:
            Label:
                text: 'Suscriber ID'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_suscriber_id
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Tipo Papel'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_paper_type
                input_type: 'number'
                input_filter: 'float'
                size_hint_x: .8
                text: "1"

        BoxLayout:
            Label:
                text: 'No. Cliente'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_customernumber
                size_hint_x: .8

        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Cot URL"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_url
                focus: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Cot ID Usuario'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_id_usuario
                input_type: 'number'
                input_filter: 'int'
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Cot Usuario'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_usuario
                size_hint_x: .8
                text: "1"

        BoxLayout:
            Label:
                text: 'Cot Contrase√±a'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_contra
                size_hint_x: .8


        BoxLayout:
            Label:
                text: 'Activo'
                size_hint_x: .2
            CheckBox:
                id: chk_is_active
                text: ''
                active: False

        Space:
        BoxLayout:
            padding: 30, 0, 30, 5
            Button:
                size_hint_x: 1
                text: 'Crear'
                on_release: root.click_BotonCrear()

<EstafetaEditPopup>:
    title: 'Editar Ambiente de Estafeta'
    size_hint: (.5, .9)
    GridLayout:
        cols: 1
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Clave"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_clave
                focus: True
                disabled: True
                size_hint_x: .8

        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "URL"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_url
                focus: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Login'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_login
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Password'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_password
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Quadrant'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_quadrant
                input_type: 'number'
                input_filter: 'float'
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Suscriber ID'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_suscriber_id
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Tipo Papel'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_paper_type
                input_type: 'number'
                input_filter: 'float'
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'No. Cliente'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_customernumber
                size_hint_x: .8

        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Cot URL"
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_url
                focus: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Cot ID Usuario'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_id_usuario
                input_type: 'number'
                input_filter: 'int'
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Cot Usuario'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_usuario
                size_hint_x: .8
                text: "1"

        BoxLayout:
            Label:
                text: 'Cot Contrase√±a'
                size_hint_x: .2
            CampoGenerico2:
                id: txt_cot_contra
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Activo'
                size_hint_x: .2
            CheckBox:
                id: chk_is_active
                text: ''
                active: False

        Space:
        BoxLayout:
            padding: 30, 0, 30, 5
            Button:
                size_hint_x: 1
                text: 'Guardar'
                on_release: root.click_BotonGuardar()

<EstafetaAmbientesPopup>:
    title: 'Cuentas Estafetas'
    size_hint: (.5, .5)
    GridLayout:
        cols: 1
        ScrollView:
            size_hint_x: 1
            StackLayout:
                id: container
                size_hint_y: None
                height: self.minimum_height
                size_hint_x: 1
                orientation: 'lr-tb'
                spacing:'15dp'
                # CuentaWidget:

        AnchorLayout:
            padding: 30, 0, 30, 5
            size_hint_y: None
            height: '60dp'
            Button:
                size_hint_y: None
                height: '60dp'
                size_hint_x: 1
                text: 'Seleccionar'
                on_release: root.click_BotonSeleccionar()

<EstafetaAmbienteOption@BoxLayout>:
    id: credenciales_widget
    padding: '10dp'
    size_hint_y: None
    height: '50dp'
    orientation: 'horizontal'
    canvas:
        Color:
            rgba: hex('#D5E1FF')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    CheckBox:
        id: chk_cuenta_estafeta
        size_hint_x: .1
        group: "cuenta"
    Label:
        id: lbl_cuenta_estafeta
        size_hint_x: .9
        text: "Hola"
        color: hex('#121313')


########################### USUARIOS ###########################

<UserScreen>:
    FONDO:
        BoxLayout:
            orientation:'vertical'

            # MENU
            Menu:

            # SEARCH
            BoxLayout:
                size_hint_y: None
                height: '50dp'
                orientation: 'horizontal'

                Button:
                    size_hint:None, None
                    size:'48dp', '48dp'
                    border:10,10,10,10
                    background_normal:'data/images/src/but_new.png'
                    background_down:'data/images/src/but_new_down.png'
                    on_release: root.click_BotonNuevo()

                CampoGenerico:
                    id: txt_buscar
                    hint_text: 'Texto a buscar'
                    size_hint_x: .8

                Button:
                    text: 'Buscar'
                    size_hint_x: .2
                    on_release: root.click_BotonBuscar()

            # LIST
            UsuariosContainer:
                id: user_container
        Toast:
            id:toast
            width: 700
            x:root.center_x - self.width // 2

        AsyncImage:
            id:loader
            center_x:root.center_x
            top: 500
            size_hint:None, None
            size:'100dp','100dp'
            source:'data/images/ripple.gif'
            anim_delay:0.05

<UsuariosContainer@ScrollView>:
    StackLayout:
        id: container
        size_hint_y: None
        size_hint_x: 1
        height: self.minimum_height
        orientation: 'lr-tb'
        padding:'15dp', '15dp','15dp','15dp'
        spacing:'15dp'
        # Usuario:

<UsuarioItem@StackLayout>:
    id: user_widget
    orientation: 'lr-tb'
    padding: '16dp'
    size_hint_y:None
    height: self.minimum_height
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10, 10, 10, 10

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: '36dp'
        Label:
            id: lbl_cuenta
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .3
            font_size: '25sp'
            font_name: 'Lato-Heavy.ttf'

        Label:
            id: lbl_descripcion
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .4
            font_size: '18sp'
            font_name: 'Lato-Heavy.ttf'

        Label:
            id: lbl_date
            color: 0.404, 0.522, 0.549, 1.0
            size_hint_x: .2
            font_size: '15sp'
            font_name: 'Lato-Semibold.ttf'

        BoxLayout:
            orientation:'horizontal'
            spacing:'16dp'
            size_hint_x: .1
            Space:
            SegButton:
                id:but_edit
                size_hint:None, None
                size:'36dp', '36dp'
                border:8,8,8,8
                background_normal:'data/images/src/but_edit.png'
                background_down:'data/images/src/but_edit_down.png'
                on_release : root.click_BotonEditar()

<UserAddPopup>:
    title: 'Nuevo Usuario'
    size_hint: (.5, .6)
    GridLayout:
        cols: 1
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Cuenta"
                size_hint_x: .2
            CampoGenerico:
                id: txt_cuenta
                focus: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Nombre'
                size_hint_x: .2
            CampoGenerico:
                id: txt_nombre
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Apellidos'
                size_hint_x: .2
            CampoGenerico:
                id: txt_apellidos
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Contrase√±a'
                size_hint_x: .2
            CampoGenerico:
                id: txt_password
                password: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Estafeta'
                size_hint_x: .195
            CampoGenerico:
                id: txt_estafeta_ambiente
                size_hint_x: .7
            Button:
                size_hint:None, None
                size:'60dp', '60dp'
                border:10,10,10,10
                background_normal:'data/images/src/but_new.png'
                background_down:'data/images/src/but_new_down.png'
                on_release: root.click_BotonEstafetaAmbientes()

        Space:
        BoxLayout:
            padding: 30, 0, 30, 5
            Button:
                size_hint_x: 1
                text: 'Crear'
                on_release: root.click_BotonCrear()

<UserEditPopup>:
    title: 'Editar Usuario'
    size_hint: (.5, .7)
    GridLayout:
        cols: 1
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: "Cuenta"
                size_hint_x: .2
            CampoGenerico:
                id: txt_cuenta
                disabled: True
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Nombre'
                size_hint_x: .2
            CampoGenerico:
                focus: True
                id: txt_nombre
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Apellidos'
                size_hint_x: .2
            CampoGenerico:
                id: txt_apellidos
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Activo'
                size_hint_x: .2
            CheckBox:
                id: chk_activo
                text: ''
                active: False

        BoxLayout:
            Label:
                text: 'Contrase√±a'
                size_hint_x: .2
            CampoGenerico:
                id: txt_password
                size_hint_x: .8

        BoxLayout:
            Label:
                text: 'Estafeta'
                size_hint_x: .195
            CampoGenerico:
                id: txt_estafeta_ambiente
                size_hint_x: .7
            Button:
                size_hint:None, None
                size:'60dp', '60dp'
                border:10,10,10,10
                background_normal:'data/images/src/but_new.png'
                background_down:'data/images/src/but_new_down.png'
                on_release: root.click_BotonEstafetaAmbientes()

        Space:
        BoxLayout:
            padding: 30, 0, 30, 5
            Button:
                size_hint_x: 1
                text: 'Guardar'
                on_release: root.click_BotonGuardar()


########################### IDEAS ###########################

<IdeaScreen>:
    FONDO:

        BoxLayout:
            orientation:'vertical'

            # MENU
            Menu:

            Space:
                size_hint_y:None
                height:'16dp'

            TopBar:
                size_hint_y:None
                padding:'16dp','16dp','16dp','0dp'
                height:'50dp'

            Space:
                size_hint_y:None
                height:'16dp'

            IdeawidgetContainer:
                id:idea_container
            # FieldsContainer:

            # BoxLayout:
                # padding: 400, 0, 400, 0
            # SegButton:
            #     # id:but_login
            #     size_hint_y:None
            #     size_hint_x: .1
            #     height:'48dp'
            #     text: 'Crear Etiqueta'
            #     background_normal:'data/images/src/but_turq.png'
            #     background_down:'data/images/src/but_turq_down.png'
                # on_release:root.dispatch('on_login')

            # Space:
            #     size_hint_y:None
            #     height:'30dp'

<IdeawidgetContainer@ScrollView>:
    StackLayout:
        id:container
        size_hint_y:None
        size_hint_x:1
        height:self.minimum_height
        orientation:'lr-tb'
        padding:'16dp', '0dp','16dp','16dp'
        spacing:'16dp'
        # IdeaWidget:
        # IdeaWidget:


        CusInput:
            id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '200dp'
            height: self.minimum_height
            hint_text: 'No. Cliente'
        SegButton:
            size_hint:None, None
            size:'48dp', '48dp'
            border:10,10,10,10
            background_normal:'data/images/src/but_new.png'
            background_down:'data/images/src/but_new_down.png'
        # Space:
        CusInput:
            id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '200dp'
            height: self.minimum_height
            hint_text: 'Servicio'
        SegButton:
            size_hint:None, None
            size:'48dp', '48dp'
            border:10,10,10,10
            background_normal:'data/images/src/but_new.png'
            background_down:'data/images/src/but_new_down.png'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '200dp'
            height: self.minimum_height
            hint_text: 'Guias Disponibles'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '200dp'
            height: self.minimum_height
            hint_text: 'Kilos disponibles'
        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:.2
            # width: '200dp'
            height: self.minimum_height
            hint_text: 'Tipos de empaque'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:.8
            # width: '400dp'
            height: self.minimum_height
            hint_text: 'Contenido'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '150dp'
            height: self.minimum_height
            hint_text: 'Largo'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '150dp'
            height: self.minimum_height
            hint_text: 'Alto'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:None
            width: '150dp'
            height: self.minimum_height
            hint_text: 'Ancho'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Descripcion Contenido'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Informacion Adicional'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Referencia'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Centro de Costo'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Descripcion'

        CusInput:
            # id: inp_cliente
            size_hint_y:None
            size_hint_x:1
            # width: '150dp'
            height: self.minimum_height
            hint_text: 'Valor declarado/ Valor factura'

        CusInput:
            id: inp_cliente
            size_hint_y:None
            size_hint_x:.4
            # width: '200dp'
            height: self.minimum_height
            hint_text: 'Domicilio Origen'

        SegButton:
            size_hint:None, None
            # size:'48dp', '48dp'
            height:'48dp'
            text: 'Buscar'
            background_normal:'data/images/src/but_turq.png'
            background_down:'data/images/src/but_turq_down.png'

        CusInput:
            id: inp_cliente
            size_hint_y:None
            size_hint_x:.4
            # width: '200dp'
            height: self.minimum_height
            hint_text: 'Domicilio Destino'

        SegButton:
            size_hint:None, None
            # size:'48dp', '48dp'
            height:'48dp'
            text: 'Buscar'
            background_normal:'data/images/src/but_turq.png'
            background_down:'data/images/src/but_turq_down.png'

        Space:
            size_hint_y:None
            height:'16dp'

        # BoxLayout:
            # padding: 400, 0, 400, 0
        SegButton:
            # id:but_login
            size_hint_y:None
            size_hint_x: .5
            height:'48dp'
            text: 'Crear Etiqueta'
            # background_normal:'data/images/src/but_turq.png'
            # background_down:'data/images/src/but_turq_down.png'
            # on_release:root.dispatch('on_login')

<SegButton@Button>:
    font_name: 'Lato-Bold.ttf'
    font_size: '22sp'
    border: 10,10,10,10
    background_disabled_normal:'data/images/src/but_disabled.png'
    background_disabled_down:'data/images/src/but_disabled.png'

<SearchBox@BoxLayout>:
    padding:'8dp'
    orientation:'horizontal'
    spacing:'8dp'
    canvas.before:
        Color:
            rgba: 0.3,0.6,0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    TextInput:
        hint_text:'Search'
        font_name: 'Lato-Regular.ttf'
        font_size: '18sp'
        background_color:(0,0,0,0)
        multiline:False
    Image:
        size_hint:None, None
        size:'32dp','32dp'
        source:'data/images/src/search.png'

<IdeaTitleBar@BoxLayout>:
    orientation:'horizontal'
    but_edit:but_edit
    but_del:but_del
    Label:
        id:lbl_date
        text: '08:30 Aug 08 2016'
        text_size: self.size
        color: 0.404, 0.522, 0.549, 1.0
        font_size: '15sp'
        font_name: 'Lato-Semibold.ttf'
        halign:'left'
        valign:'middle'
    Label:
        id:lbl_idea_no
        text: '#31'
        size_hint_x:None
        width:self.texture_size[0]
        font_size: '30sp'
        color: 0.404, 0.522, 0.549, 1.0
        font_name: 'Lato-Heavy.ttf'
    BoxLayout:
        orientation:'horizontal'
        spacing:'16dp'
        Space:
        SegButton:
            id:but_del
            size_hint:None, None
            size:'36dp', '36dp'
            border:8,8,8,8
            background_normal:'data/images/src/but_del.png'
            background_down:'data/images/src/but_del_down.png'
            on_release:root.dispatch('on_del_pressed')
        SegButton:
            id:but_edit
            size_hint:None, None
            size:'36dp', '36dp'
            border:8,8,8,8
            background_normal:'data/images/src/but_edit.png'
            background_down:'data/images/src/but_edit_down.png'
            on_release:root.dispatch('on_edit_pressed')

<IdeaWidget@StackLayout>:
    orientation:'lr-tb'
    padding:'16dp'
    size_hint_y:None
    height: self.minimum_height
    canvas:
        Color:
            rgba: 0.925, 0.941, 0.937, 1.0
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: 10,10,10,10
    IdeaTitleBar:
        id:title_bar
        size_hint_y:None
        height: '36dp'
        on_del_pressed:root.dispatch('on_delete')
        on_edit_pressed:root.toggle_edit_mode()
    Space:
        size_hint_y:None
        height:'16dp'
    SegInput:
        id:inp_idea
        size_hint_y:None
        height: self.minimum_height

<TopBar@BoxLayout>:
    orientation:'horizontal'
    spacing:'16dp'
    # SegButton:
    #     size_hint:None, None
    #     size:'48dp', '48dp'
    #     border:10,10,10,10
    #     background_normal:'data/images/src/but_new.png'
    #     background_down:'data/images/src/but_new_down.png'
    #     on_release:root.dispatch('on_add_ideawidget')

    # LoginInput:
    CusInput:
        id: inp_tipo
        size_hint_y:None
        height: self.minimum_height
        hint_text: 'Tipo'
        # on_text:root.on_username(self.text)

    # LoginInput:
    CusInput:
        id: inp_empresa
        size_hint_y:None
        height: self.minimum_height
        hint_text: 'Numero'

    Space:
    # SearchBox:
    #     width:'240dp'
    #     size_hint_x:None
    SegButton:
        size_hint:None, None
        # size:'96dp', '48dp'
        # text:'Selecciona Factura'
        height:'48dp'
        text: 'Factura'
        background_normal:'data/images/src/but_turq.png'
        background_down:'data/images/src/but_turq_down.png'
        # on_release:root.dispatch('on_quit_pressed')

    # TextInput:
    #     TextInput:
    #         size_hint_x: 20
    #     TextInput:
    #         size_hint_x: 20
    #     TextInput:
    #         size_hint_x: 20
    #     Button:
    #         text: 'Seleccionar Factura'
    #         size_hint_x: 40

<FieldsContainer@BoxLayout>:
    orientation: 'vertical'
    size_hint_y:None
    size_hint_x:1
    height:self.minimum_height
    padding:'16dp', '0dp','16dp','16dp'
    spacing:'16dp'

<Toolbar@BoxLayout>:
    orientation: 'horizontal'

    Button:
        text: 'Facturas'
        size_hint_x: 30
        # on_release:

    Button:
        text: 'Clientes'
        size_hint_x: 30

    Button:
        text: 'Usuarios'
        size_hint_x: 30
        on_release: root.goto_Usuario()
        # on_release:root.dispatch('on_Users')
